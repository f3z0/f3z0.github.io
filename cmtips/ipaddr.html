<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">

<html lang="en">

	<!-- #BeginTemplate "../../cmtips.data/Templates/cmtemp.html" -->

		<head>
			<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">
			<title>Cable Modem Troubleshooting Tips: IP addresses</title>
			<!-- #BeginHeadLocked "" -->
				<meta name="description" content="Technical tips for troubleshooting a cable modem connection.">
				<meta name="keywords" content="cable modem, FAQ, broadband, cablemodem, troubleshooting, tips, NTL, NTLworld, ntlhome, Telewest, blueyonder">
				<meta name="author" content="Robin Walker">
				<meta name="copyright" content="&copy; 2001-02 Robin Walker">
				<link href="../favicon.ico" rel="shortcut icon">
				<link href="mailto:rdhw@cam.ac.uk" rel="author">
				<link href="copyright.html" rel="copyright">
				<link href="index.html" rel="index">
				<link href="cmstyle.css" rel="stylesheet">
				<script type="text/javascript" language="JavaScript"><!--
function jsinit() {
  if (top!=self) top.location.href = self.location.href;
}
// -->
</script>
			<!-- #EndHeadLocked -->
		</head>

		<body onload="jsinit()" bgcolor="#eeffff">
			<h1>Cable Modem Troubleshooting Tips</h1>
			<hr>
			<table border="0" cellpadding="0" align="left" summary="Quick links">
				<tr>
					<td nowrap bgcolor="#ffffff">
						<div class="menubox">
							<a class="sidelink" title="Introduction and Index to articles" href="index.html">Intro&nbsp;&amp;&nbsp;Index</a>.<br>
							<a class="sidelink" title="History of updates and changes to this site" href="hist.html">Update&nbsp;history</a>.<br>
							<a class="sidelink" title="Problems with BroadJump Broadband Installer" href="broadjump.html">Installer issues</a>.<br>
							<a class="sidelink" title="Problems associated with getting a cable modem registered with your cable operator" href="register.html">Registration&nbsp;issues</a>.&nbsp;<br>
							<a class="sidelink" title="PC network configuration for cable service" href="basicset.html">Network&nbsp;setup</a>.<br>
							<a class="sidelink" title="Swapping one PC between multiple networks" href="mobile.html">Mobile&nbsp;setup</a>.<br>
							<a class="sidelink" title="Understanding the flashing lights on the cable modem" href="lights.html">Cable&nbsp;Modem&nbsp;LEDs</a>.<br>
							<a class="sidelink" title="How to determine various important IP addresses" href="ipaddr.html">IP&nbsp;addresses</a>.<br>
							<a class="sidelink" title="How to determine various important MAC addresses" href="macaddr.html">MAC addresses</a>.<br>
							<a class="sidelink" title="What to check if you have no service" href="badip.html">Dead&nbsp;connection</a>.<br>
							<a class="sidelink" title="Updating your system with the latest patches and fixes" href="sysupdates.html">System&nbsp;updates</a>.<br>
							<a class="sidelink" title="Tweaking your PC for best cable modem performance" href="tweaks.html">Network&nbsp;tweaks</a>.<br>
							<a class="sidelink" title="Problems specifically related to the ethernet connection between your PC and the cable modem" href="ethernet.html">Ethernet&nbsp;issues</a>.<br>
							<a class="sidelink" title="Problems specifically related to a USB connection between the PC and cable modem" href="usb.html">USB&nbsp;issues</a>.<br>
							<a class="sidelink" title="Procedures and tips specifically for Surfboard cable modems" href="surfboard.html">Surfboard&nbsp;tips</a>.<br>
							<a class="sidelink" title="Diagnosing your cable modem's connection" href="signal.html">CM&nbsp;diagnostics</a>.<br>
							<a class="sidelink" title="Quality of service determined by configuration file" href="cmfile.html">CM&nbsp;config&nbsp;file</a>.<br>
							<a class="sidelink" title="The network structure of a cable modem" href="cmworks.html">CM&nbsp;tech&nbsp;info</a>.<br>
							<a class="sidelink" title="DHCP-related problems" href="dhcp.html">DHCP&nbsp;issues</a>.<br>
							<a class="sidelink" title="Understanding DNS and fixing DNS problems" href="dnsname.html">DNS&nbsp;issues</a>.<br>
							<a class="sidelink" title="Transparent web proxy caches and how to sidestep them" href="trancache.html">Web&nbsp;proxy&nbsp;issues</a>.<br>
							<a class="sidelink" title="Settings that affect performance of streaming media" href="stream.html">Streaming&nbsp;media</a>.<br>
							<a class="sidelink" title="Settings that affect performance, latency and pings" href="games.html">Gaming&nbsp;issues</a>.<br>
							<a class="sidelink" title="Settings that affect performance; avoiding saturation of upstream" href="p2p.html">P2P&nbsp;file-sharing</a>.<br>
							<a class="sidelink" title="Work around connection errors" href="seti.html">SETI@home&nbsp;issues</a>.<br>
							<a class="sidelink" title="Settings that affect web browsing performance" href="fasterweb.html">Faster&nbsp;web&nbsp;browsing</a>.<br>
							<a class="sidelink" title="Strategies to get better download speeds" href="fasterftp.html">Faster&nbsp;downloads</a>.<br>
							<a class="sidelink" title="How to avoid performance hits" href="downup.html">Simul&nbsp;down/uploads</a>.<br>
							<a class="sidelink" title="How to restore lost connection when you swap PCs connected to the CM" href="swap.html">Swapping&nbsp;PCs&nbsp;on&nbsp;CM</a>.<br>
							<a class="sidelink" title="Multiple PCs sharing one CM, home LANs, and NAT Routers" href="homelan.html">PCs&nbsp;sharing&nbsp;CM</a>.<br>
							<a class="sidelink" title="Using dial-up without losing cable connection" href="dialup.html">Simul&nbsp;dialup&nbsp;&amp;&nbsp;CM</a>.<br>
							<a class="sidelink" title="Problems with some VPN configurations" href="vpn.html">VPN&nbsp;issues</a>.<br>
							<a class="sidelink" title="Keep your clock correct, for ever, from cable time" href="timesync.html">Time&nbsp;sync</a>.<br>
							<a class="sidelink" title="Avoiding virus and trojan infections" href="virus.html">Virus&nbsp;security</a>.<br>
							<a class="sidelink" title="Configuring firewalls for cable connection" href="security.html">Firewall&nbsp;security</a>.<br>
							<a class="sidelink" title="Limitations of some speed tests" href="speed.html">Speed&nbsp;testing</a>.<br>
							<a class="sidelink" title="Understanding, diagnosing, and fixing latency and ping problems" href="latency.html">Latency issues</a>.<br>
							<a class="sidelink" title="How to perform a traceroute, and how they can mislead" href="traceroute.html">Traceroute</a>.<br>
							<a class="sidelink" title="Understanding and diagnosing packet loss" href="loss.html">Packet loss</a>.<br>
							<a class="sidelink" href="frontpage.html">FrontPage tips</a>.<br>
							<a class="sidelink" title="How to obtain technical support" href="techsupp.html">NTL/BY&nbsp;Tech&nbsp;Support</a>.</div>
					</td>
					<td width="18">&nbsp;</td>
				</tr>
			</table>
			<!-- #BeginEditable "main" -->
				<h2>IP addresses</h2>
				<p>An IP (Internet Protocol) address consists of four decimal numbers in the range 0-255 separated by dots, such as <b>62.253.135.64</b>. Every computer on the internet needs a unique IP address. For many of the procedures described elsewhere on this site it is necessary for the user to discover and use various IP addresses: the instructions for finding the following IP addresses are listed on this page:</p>
				<ul>
					<li>the <a href="#ipaddr">(LAN) IP address of the PC</a>;</li>
					<li>the <a href="#wanip">(WAN) IP address of the PC</a>; <span class="flash">&nbsp;Updated 2003 Mar 16&nbsp;</span></li>
					<li>the <a href="#gateway">IP address of the Default Gateway</a>;</li>
					<li>the <a href="#cmip">IP address of the Cable Modem</a> itself;</li>
					<li>the <a href="#ubrip">IP address of the UBR</a>;</li>
					<li>the <a href="#dnsip">IP address(es) of the DNS server(s)</a>;</li>
					<li>the <a href="#dhcpip">IP address(es) of the DHCP server(s)</a>;</li>
					<li>the <a href="#webpr">IP address of the transparent web proxy</a>;</li>
				</ul>
				<hr>
				<h2><a name="ipaddr"></a>What's my IP address?</h2>
				<p>When you connect to the cable network, your PC/Mac is automatically issued with a unique IP address by means of DHCP (Dynamic Host Configuration Protocol). The public IP address allocated by DHCP for the cable connection is called the <b>WAN address</b> to distinguish it from any private <b>LAN addresses</b> you might be using if you have a home LAN. If your PC/Mac is connected directly to the cable modem, with no intervening routers, then its IP address will be the WAN address.</p>
				<p>You can discover the (LAN) IP address of your PC/Mac as follows:</p>
				<ul>
					<li><b>Win9x/ME</b>: click Start, Run, enter the command <b>winipcfg</b>. Use the pull-down item to select the network interface for the cable modem (rather than any PPP dial-up). Look for the line <b>IP Address</b>.</li>
					<li><b>Windows</b> (any version except Win95): open a command prompt window, type the command <b>ipconfig</b>. Look for the output section related to the network interface for the cable modem:</li>
				</ul>
				<blockquote>
					<blockquote>
						<pre class="log">2 Ethernet adapter :

        IP Address. . . . . . . . . : <span class="yellbg">213.107.117.246</span>
        Subnet Mask . . . . . . . . : 255.255.255.0
        Default Gateway . . . . . . : 213.107.117.254</pre>
					</blockquote>
				</blockquote>
				<ul>
					<li><b>Windows XP</b>: Open Control Panel <b>Network Connections</b>, right-click the network interface for the cable modem and select <b>Properties</b>, click tab <b>Support</b>. Look for the line <b>IP Address</b>.</li>
					<li><b>Apple Mac OS 8.x/9.x</b>: Pull down the Apple menu, select Control Panels. Open the control panel <b>TCP/IP</b>. Look for the line <b>IP address</b>.</li>
					<li><b>Apple Mac OS X</b>: any of the following:</li>
					<ul>
						<li>Pull down the Apple menu, select System Properties, click <b>Network</b>. In the pull-down <b>Show:</b> select the network interface in use. Click tab <b>TCP/IP</b> and look for the line <b>IP Address</b>.</li>
						<li>Open a <b>Terminal</b> window, type the command <tt><b>ifconfig en0</b></tt> (where <b><tt>en0</tt></b> is the interface in use) and look for the line <b>inet</b>.</li>
						<li>Open a <b>Terminal</b> window, type the command <tt><b>ipconfig getifaddr en0</b></tt> (where <b><tt>en0</tt></b> is the interface in use).</li>
					</ul>
				</ul>
				<h3><a name="wanip"></a>What's my WAN IP address?</h3>
				<p>If your PC/Mac is part of a home LAN behind a NAT router, then the above procedures will tell you the private LAN address of the PC/Mac, not the public WAN address allocated to your cable connection. To discover your public <b>WAN address</b>, visit one of these sites:</p>
				<ul>
					<li><a title="All Nettools Proxy Server test" href="http://www.all-nettools.com/pr.htm">http://www.all-nettools.com/pr.htm</a> (look for line <b>Client IP</b>).</li>
					<li><a title="Broadband-Help " href="http://www.broadband-help.com/cm_diagnose.asp?init=1">http://www.broadband-help.com/cm_diagnose.asp?init=1</a> (look for <b>IP</b> in section <b>Network</b>).</li>
					<li><a title="Blueyonder DNS checker" href="http://dnscheck.blueyonder.co.uk:888/cgi-bin/checker.pl">http://dnscheck.blueyonder.co.uk:888/cgi-bin/checker.pl</a></li>
				</ul>
				<p>Your NAT router might also have configuration pages or programs which will tell you the public WAN address. For instance, for the Linksys routers, send your web browser to <a title="Linksys configuration pages" href="http://192.168.1.1/">http://192.168.1.1/</a> and click the tab <b>Status</b>:</p>
				<a name="linkstat"></a>
				<table class="linktab" width="90%" align="center">
					<tr>
						<td class="linkcol1" width="47%">&nbsp; &nbsp;IP Address:</td>
						<td class="linkcol2"><span class="yellbg">213.107.117.246</span>&nbsp;</td>
					</tr>
					<tr>
						<td class="linkcol1">&nbsp; &nbsp;Subnet Mask:</td>
						<td class="linkcol2">255.255.255.0</td>
					</tr>
					<tr>
						<td class="linkcol1">&nbsp; &nbsp;Default Gateway:</td>
						<td class="linkcol2">213.107.117.254</td>
					</tr>
					<tr>
						<td class="linkcol1">&nbsp; &nbsp;DNS:</td>
						<td class="linkcol2">194.168.4.100<br>
							
							
							
							
							
							
							
							
							194.168.8.100<br>
							
							
							
							
							
							
							
							
							0.0.0.0</td>
					</tr>
					<tr>
						<td class="linkcol1">&nbsp; &nbsp;DHCP Remaining Time:</td>
						<td class="linkcol2">2:47:44</td>
					</tr>
				</table>
				<div class="ntlns4">
					<p>On the NTL cable modem service, the possible in-service IP address ranges are:</p>
					<ul>
						<li><b>62.252.xxx.xxx</b> to <b>62.255.xxx.xxx</b>.</li>
						<li><b>80.0.xxx.xxx</b> to <b>80.7.xxx.xxx</b>.</li>
						<li><b>81.96.xxx.xxx</b> to <b>81.111.xxx.xxx</b>.</li>
						<li><b>82.0.xxx.xxx</b> to <b>82.31.xxx.xxx</b>.</li>
						<li><b>213.104.xxx.xxx</b> to <b>213.107.xxx.xxx</b>.</li>
					</ul>
				</div>
				<p>It is quite normal for one UBR to have more than one IP address range assigned for customers, and these ranges might be quite different in their leading digits. When you are allocated a fresh IP address by DHCP, it is as likely to come from one range as another: a change of IP address range is not a cause for concern.</p>
				<p>An IP address of the form <b>169.254.xxx.xxx</b> is an <a href="badip.html#ip169">error condition</a>.</p>
				<hr>
				<h2><a name="gateway"></a>Finding the Default Gateway address</h2>
				<p>The <b>Default Gateway</b> (or <b>Router</b>) is your link to the internet: your PC will send IP packets to, and receive IP packets from, the Default Gateway (except when the packet is to or from another IP address on the same sub-net as yourself, in which case it goes direct). On a cable network, the Default Gateway address is physically part of the UBR (head-end).</p>
				<p>It is very common for the <b>Default Gateway</b> address to end in <b>.1</b> or <b>.254</b>, with the first three parts being the same as the public WAN IP address for the connection.</p>
				<p>If your PC/Mac is connected directly to the cable modem, you can discover the <b>Default Gateway</b> address of your connection as follows:</p>
				<ul>
					<li><b>Win9x/ME</b>: click Start, Run, enter the command <b>winipcfg</b>. Use the pull-down item to select the network interface for the cable modem (rather than any PPP dial-up). Look for the line <b>Default Gateway</b>.</li>
					<li><b>Windows</b> (any version except Win95): open a command window, type the command <b>ipconfig</b>. Look for the output section related to the network interface for the cable modem:</li>
				</ul>
				<blockquote>
					<blockquote>
						<pre class="log">2 Ethernet adapter :

        IP Address. . . . . . . . . : 213.107.117.246
        Subnet Mask . . . . . . . . : 255.255.255.0
        Default Gateway . . . . . . : <span class="yellbg">213.107.117.254</span></pre>
					</blockquote>
				</blockquote>
				<ul>
					<li><b>Windows XP</b>: Open Control Panel <b>Network Connections</b>, right-click the network interface for the cable modem and select <b>Properties</b>, click tab <b>Support</b>. Look for the line <b>Default Gateway</b>.</li>
					<li><b>Apple Mac 8.x/9.x</b>: Pull down the Apple menu, select Control Panels. Open the control panel <b>TCP/IP</b>. Look for the line <b>Router address</b>.</li>
					<li><b>Apple Mac OS X</b>: any of the following:</li>
					<ul>
						<li>Pull down the Apple menu, select System Properties, click <b>Network</b>. In the pull-down <b>Show:</b> select the network interface in use. Click tab <b>TCP/IP</b> and look for the line <b>Router</b>.</li>
						<li>Open a <b>Terminal</b> window, type the command <tt><b>ipconfig getoption en0 router</b></tt> (where <b><tt>en0</tt></b> is the name of the interface in use).</li>
					</ul>
				</ul>
				<p>If your PC is on a home LAN connected via a NAT router to the cable modem, use the configuration pages or program for the NAT router to discover the Gateway address. For instance, for the Linksys routers, send your web browser to <a title="Linksys configuration pages" href="http://192.168.1.1/">http://192.168.1.1/</a>, click the tab <b>Status</b>, and look for the line <b>Default Gateway</b>. See <a href="#linkstat">example above</a>.</p>
				<hr>
				<h2><a name="cmip"></a>Finding the cable modem's address</h2>
				<p>Most DOCSIS cable modems have two IP addresses:</p>
				<ul>
					<li>a customer-side IP address used on the ethernet/USB socket to which the user connects;</li>
					<li>an ISP-side IP address used on the CATV socket to which the ISP's network connects.</li>
				</ul>
				<p>The customer-side IP address of a DOCSIS cable modem is normally <b>192.168.100.1</b>. For 3Com Tailfins with early firmware versions it was <b>149.112.50.65</b>. Firmware can be automatically updated by your cable operator down the cable, so by the time you read this, most Tailfins will have been updated to use the standard address. The 3Com CMX does not have a customer-side IP address.</p>
				<p>The IP address <b>192.168.100.1</b> will be present even if no web diagnostics are offered on that address.</p>
				<p>The cable modem IP address <b>192.168.100.1</b> is not in the same sub-net as the user's PC. So, when trying to send to <b>192.168.100.1</b>, the user PC's IP stack will normally route the packet to the Default Gateway address at the UBR. Since no routes exist to the private address <b>192.168.100.1</b> (and there are multiple instances of this IP address on any one CATV segment), the UBR drops the packet. This would mean that in theory the PC could never talk to the cable modem. However, the Surfboard, the 3Com Tailfin, and the ntl:home 100/120 are capable of sniffing the passing traffic through the transparent bridge to intercept any packets addressed to themselves. This only works when the bridge is open, so the cable modem diagnostics cannot be read when the cable modem is booting up or failing to remain in contact with the UBR.</p>
				<p>For cable modems other than the Surfboard, Tailfin and ntl:home 100/120, and for the Surfboard/Tailfin when their bridge is closed, the only way to communicate with them is:</p>
				<ul>
					<li>reconfigure the PC by disabling DHCP and manually assigning an IP address <b>192.168.100.xx</b>, where <b>xx</b> is in the range 2-254, sub-net mask <b>255.255.255.0</b>, and Default Gateway <b>192.168.100.1</b>. This has the disadvantage of being incompatible with normal in-service usage; or</li>
					<li>add a secondary IP address to the PC's network interface, leaving the primary IP address to be allocated by DHCP. The secondary IP address should be <b>192.168.100.xx</b> where <b>xx</b> is in the range 2-254, with sub-net mask <b>255.255.255.0</b>. The procedure for adding secondary IP addresses depends on operating system: for Windows 9x/ME it can be done only by editing the Registry, see <a title="Adding Additional IP Addresses to a Single Network Adapter" href="http://support.microsoft.com/support/kb/articles/Q156/7/72.asp">http://support.microsoft.com/support/kb/articles/Q156/7/72.asp</a>.</li>
				</ul>
				<p>Note that, with the Surfboard and ntl:home 100/120, when the cable modem is not online to the cable operator's network, it runs an internal DHCP server which automatically gives the PC an IP configuration on the <b>192.168.100.xx</b> sub-net to enable the PC to communicate with the cable modem on <b>192.168.100.1</b>.</p>
				<hr>
				<h2><a name="ubrip"></a>Finding the UBR address</h2>
				<p>The UBR in fact has more than one IP address. One of the public IP addresses that it has is the WAN <a href="#gateway">Default Gateway</a> address that is allocated to your PC by your cable ISP. You should use this Default Gateway address when you wish to request a service (e.g. <a href="timesync.html#timesync">time synchronisation</a>) from the UBR.</p>
				<p>The other address for the UBR will usually be a private IP address, which will be the apparent source of IP packets sent from the UBR itself to your PC. You should use the private IP address for the UBR, for instance, when configuring firewalls to permit the UBR to send to your PC, or when using the <b class="nowrap">-ubrip</b> option of the <a title="Cable modem diagnostics viewer" href="http://homepage.ntlworld.com/robin.d.h.walker/docsdiag/">DocsDiag</a> program. To find the private IP address of the interface of the UBR to which your cable modem is connected, <a href="traceroute.html#traceroute">perform a traceroute</a> to anywhere. The private IP address of the UBR will normally be returned in hop 1 of the traceroute results:</p>
				<blockquote>
					<pre class="log">C:\WINDOWS&gt;<b>tracert www.bbc.co.uk</b>

Tracing route to www.bbc.net.uk [212.58.224.35]
over a maximum of 30 hops:

  1    67 ms    23 ms    22 ms  <span class="yellbg">172.16.231.254</span>
  2    17 ms    25 ms    55 ms  cam-cam1-a-fa00.inet.ntl.com [62.253.129.1]
  3    22 ms    17 ms    15 ms  cam-core-a-pos200.inet.ntl.com [62.253.128.133]
  4    27 ms    28 ms    33 ms  gfd-bb-a-atm100-228.inet.ntl.com [213.105.172.38]
  5    61 ms    31 ms    28 ms  lng-bb-b-so-700-0.inet.ntl.com [213.105.172.142]
  6    40 ms    44 ms    61 ms  linx-ic-2-so-230-0.inet.ntl.com [62.253.184.174]
  7    46 ms    47 ms    48 ms  rt-linx-a.thdo.bbc.co.uk [195.66.224.103]
  8    28 ms    32 ms    30 ms  www.bbc.net.uk [212.58.224.35]

Trace complete.</pre>
				</blockquote>
				<p>If you have a home LAN with a NAT router, then in some cases, the NAT router inserts itself as a new first hop, in which case the IP address of the UBR will be returned in hop 2:</p>
				<blockquote>
					<pre class="log">C:\WINDOWS&gt;<b>tracert www.bbc.co.uk</b>

Tracing route to www.bbc.net.uk [212.58.224.35]
over a maximum of 30 hops:

  1   &lt;10 ms   &lt;10 ms   &lt;10 ms  192.168.123.254
  2    67 ms    23 ms    22 ms  <span class="yellbg">172.16.231.254</span>
  3    17 ms    25 ms    55 ms  cam-cam1-a-fa00.inet.ntl.com [62.253.129.1]
  4    22 ms    17 ms    15 ms  cam-core-a-pos200.inet.ntl.com [62.253.128.133]
  5    27 ms    28 ms    33 ms  gfd-bb-a-atm100-228.inet.ntl.com [213.105.172.38]
  6    61 ms    31 ms    28 ms  lng-bb-b-so-700-0.inet.ntl.com [213.105.172.142]
  7    40 ms    44 ms    61 ms  linx-ic-2-so-230-0.inet.ntl.com [62.253.184.174]
  8    46 ms    47 ms    48 ms  rt-linx-a.thdo.bbc.co.uk [195.66.224.103]
  9    28 ms    32 ms    30 ms  www.bbc.net.uk [212.58.224.35]

Trace complete.</pre>
				</blockquote>
				<p>The Linksys NAT routers are an example of a router which <b>does not</b> insert an extra hop. The SMC Barricades are an example of a router which <b>does</b> insert an extra hop. The documentation or setup configuration of the home LAN router will normally tell you which IP address range it uses, so that it can be recognised in hop 1 above. Any 192.168.xxx.xxx address in hop 1 is more likely to be a home router than the UBR. But some home routers (e.g. Apple Airport) use the 10.xxx.xxx.xxx IP range, which can be confused with a UBR in the same range. When in doubt, disconnect the router, connect the PC directly to the cable modem, and try the traceroute again.</p>
				<p>The UBR's private IP address is usually one of the following:</p>
				<ul>
					<li>in the range 10.xxx.xxx.zzz (where zzz is 1 or 254)</li>
					<li>in the range 172.yy.xxx.zzz (where yy is in the range 16-31, zzz is 1 or 254).</li>
				</ul>
				<p><span class="ntl">For original NTL franchises, the UBR will have a private IP address of the form <b>172.xx.xxx.254</b> or <b>10.xxx.xxx.254</b>; for ex-C&amp;W digital set-top-boxes, it will be of the form <b>10.xxx.xxx.1</b>.</span> <span class="by">For Blueyonder, the UBR will have an address of the form <b>10.xxx.xxx.1</b></span>.</p>
				<h3>Why the UBR address is not always the same as the Default Gateway</h3>
				<p>Every IP sub-net needs a <a href="#gateway">Default Gateway</a> defined. All IP packets destined for hosts off the sub-net will be sent to the gateway for routing onwards. If your IP address is <b>aaa.bbb.ccc.ddd</b>, then the sub-net usually consists of all IP addresses of the form <b>aaa.bbb.ccc.xxx</b>, where <b>xxx</b> is any number in the range 1 to 254, and the gateway address could be <b>aaa.bbb.ccc.1</b> or <b>aaa.bbb.ccc.254</b>. On a cable system, the gateway will physically be the UBR itself. On a normal ethernet, one would expect that packets from the gateway to you would show their source to be the gateway address. But on a cable system, this is not always the case. A single cable distribution system can host more than 253 customers, and so requires more than one customer sub-net active on the cable. A single UBR interface therefore functions as a gateway for more than one customer sub-net, each of which might be in different IP address ranges. So this single UBR interface is labelled with more than one IP address. Each of the customer sub-net public gateway IP addresses are treated as secondary IP addresses for the UBR interface, which is given a primary IP address in the private range of <b>10.xxx.xxx.1</b> or <b>172.xx.xxx.254</b>. [This also enables the UBR to serve as the sub-net gateway for the CATV side of all the cable modems, which also have private <b>10.xxx.xxx.xxx</b> or <b>172.xx.xxx.xxx</b> addresses]. The upshot is that when the UBR originates a packet to an end-user (such as responding to a traceroute probe), the packet shows a source address of <b>10.xxx.xxx.1</b> or <b>172.xx.xxx.254</b>, which does not appear to be an address on the end-user's sub-net, although physically it is. This private UBR address will have the same MAC address as the customer sub-net Default Gateway addresses have, because all these addresses are on the same physical UBR interface.</p>
				<p>If you traceroute <b>to</b> the gateway, the public gateway IP address will reply.</p>
				<p>If you traceroute <b>through</b> the gateway, the UBR's private IP address will reply.</p>
				<hr>
				<h2><a name="dnsip"></a>Finding the DNS server address(es)</h2>
				<p>You can discover your assigned <b>DNS addresses</b> as follows:</p>
				<ul>
					<li>In <b>Win9x/ME</b>, click <b>Start</b>, select <b>Run</b>, type in <b>winipcfg</b>, select the correct interface for the cable modem connection (not PPP dial-up) and click the <b>More info</b> button.</li>
					<li>In <b>Windows</b> (all versions except <b>Win95</b>), open a command prompt window (you might need to make it longer by typing the command <b>mode con,lines=50</b>) and type the command <b>ipconfig /all</b> (in Windows 2000, the DNS Servers are listed in the adapter section, not at the top):</li>
				</ul>
				<blockquote>
					<blockquote>
						<pre class="log">Windows 98 IP Configuration

    Host Name . . . . . . . . . : RDHW-B.ntlworld.com
    DNS Servers . . . . . . . . : <span class="yellbg">194.168.4.100</span>
                                : <span class="yellbg">194.168.8.100</span>
    Node Type . . . . . . . . . : Broadcast
    NetBIOS Scope ID. . . . . . : 
    IP Routing Enabled. . . . . : No
    WINS Proxy Enabled. . . . . : No
    NetBIOS Resolution Uses DNS : No

2 Ethernet adapter :

    Description . . . . . . . . : Intel DC21041 PCI Ethernet Adapter
    Physical Address. . . . . . : 00-60-1D-F6-7E-5C
    DHCP Enabled. . . . . . . . : Yes
    IP Address. . . . . . . . . : 213.107.117.246
    Subnet Mask . . . . . . . . : 255.255.255.0
    Default Gateway . . . . . . : 213.107.117.254
    DHCP Server . . . . . . . . : 62.253.128.3
    Primary WINS Server . . . . : 
    Secondary WINS Server . . . : 
    Lease Obtained. . . . . . . : 07 26 01 21:22:01
    Lease Expires . . . . . . . : </pre>
					</blockquote>
				</blockquote>
				<ul>
					<li><b>Windows XP</b>: Open Control Panel <b>Network Connections</b>, right-click the network interface for the cable modem and select <b>Properties</b>, click tab <b>Support</b>, click button <b>Details</b>. Look for the line <b>DNS Servers</b>.</li>
					<li>In <b>Apple Mac OS 8.x/9.x</b>, pull down the <b>Apple</b> menu, click <b>Control Panels</b>, select <b>TCP/IP</b>. Look for the item <b>Name Server addr</b>. [If necessary, pull down the <b>Edit</b> menu, select <b>User Mode</b>, and check <b>Basic</b>]. Usually only the primary DNS server will be shown.</li>
					<li><b>Apple Mac OS X</b>: open a <b>Terminal</b> window, type the command <tt><b>ipconfig getpacket en0</b></tt> (where <tt><b>en0</b></tt> is the interface in use) and look for the line <b>domain_name_server</b>.</li>
				</ul>
				<hr>
				<h2><a name="dhcpip"></a>Finding the DHCP server address(es)</h2>
				<p>You can discover the address of the DHCP server from which your PC/Mac obtains IP address leases by:</p>
				<ul>
					<li>In <b>Windows</b>, proceed as in <a href="#dnsip">Finding the DNS server address(es)</a> above, reading the DHCP server address instead of the DNS server addresses.</li>
					<li><b>Windows XP</b>: Open Control Panel <b>Network Connections</b>, right-click the network interface for the cable modem and select <b>Properties</b>, click tab <b>Support</b>, click button <b>Details</b>. Look for the line <b>DHCP Server</b>.</li>
					<li><b>Apple Mac OS 8.x/9.x:</b> use the DHCP Lease tool of <a href="http://www.sustworks.com/">IPNetMonitor</a>.</li>
					<li><b>Apple Mac OS X</b>: open a <b>Terminal</b> window, type the command <tt><b>ipconfig getoption en0 server_identifier</b></tt> (where <tt><b>en0</b></tt> is the interface in use).</li>
				</ul>
				<p>If the PC/Mac is on a home LAN behind a NAT router, then the DHCP server address obtained above might be the LAN address of the NAT router itself, providing a local DHCP service. If you want to discover the WAN DHCP server address of your ISP when your PC/Mac is on a home LAN:</p>
				<ul>
					<li>Inspect the configuration of your NAT router (but the Linksys does not give this information);</li>
					<li>With a Surfboard or Tailfin cable modem, the DHCP server address can be discovered from the cable modem's internal diagnostic web pages: the <b>Addresses</b> page of the Surfboard, or the <b>Operation Configuration</b> page of the 3Com Tailfin (not possible with CMX or TeraJet, unless you use the <b><a title="Cable modem diagnostics viewer" href="http://homepage.ntlworld.com/robin.d.h.walker/docsdiag/">DocsDiag</a></b> program with the <b>-vv</b> option).</li>
				</ul>
				<div class="ntlns4">
					<p>With NTL stand-alone cable modems, there was originally just one DHCP server per region, but there will be a steady conversion to having two DHCP servers per region, starting in 2002. Each will act as a backup to the other. If you are writing firewall rules, you need to trust <b>both</b> DHCP servers. You can find the address of one of them by the procedures above. To find the address of the other:</p>
					<ul>
						<li>Take the known DHCP server IP address as found above, and look up its DNS name: the result should look something like <b>dhcpN-XXXX.server.ntli.net</b> where:</li>
						<ul>
							<li><b>XXXX</b> is a region code of 3 or 4 letters;</li>
							<li><b>N</b> is either <b>1</b> or <b>2</b>.</li>
						</ul>
						<li>In that DNS name, alter the <b>N</b> field to its other possible value, then look up the IP address for that name. This will yield the IP address of the other DHCP server. If the lookup fails, there isn't a second DHCP server for your region.</li>
					</ul>
					<p>With NTL digital TV STBs, there are <b>two</b> DHCP servers per region, each acting as a backup to the other. Their IP addresses will be of the form <b>10.0.xxx.70</b> and <b>10.0.xxx.71</b>. The methods above will tell you the active one for your PC, enabling you to discover the value of <b>xxx</b>. If you are writing firewall rules, you need to also add the other one of the pair.</p>
				</div>
				<div class="byns4">
					<p>Blueyonder users have <b>two</b> DHCP servers, each acting as a backup to the other. They might be the same as your assigned DNS server addresses, but can be different. If you are writing firewall rules, you need to trust <b>both</b> DHCP servers. To determine the other address:</p>
					<ul>
						<li>take the known DHCP server IP address as found above, and look up its DNS name: the result should look something like <b>pXXsNNNo.blueyonder.co.uk</b> where:</li>
						<ul>
							<li><b>XX</b> is one of the two-letter codes listed in <b><a href="dnsname.html#dnsname">Decoding your DNS</a></b> name.</li>
							<li><b>NNN</b> is either <b>001</b> or <b>002</b>.</li>
						</ul>
						<li>In that DNS name, alter the <b>NNN</b> field to its other possible value, then look up the IP address for that name. This will yield the IP address of the other DHCP server.</li>
					</ul>
				</div>
				<hr>
				<h2><a name="webpr"></a>Finding the address of the transparent web proxy cache</h2>
				<p>See <b><a href="trancache.html#mycache">Which is my web cache?</a></b></p>
				<hr>
				<p></p>
			<!-- #EndEditable -->
			<p>Return to <a href="index.html">Index</a>.</p>
		</body>

	<!-- #EndTemplate -->

</html>

